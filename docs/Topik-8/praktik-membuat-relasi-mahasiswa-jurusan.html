<!DOCTYPE html>
<html>
<head>
<title>praktik-membuat-relasi-mahasiswa-jurusan.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="praktik-membuat-relasi-mahasiswa-jurusan">Praktik: Membuat Relasi Mahasiswa-Jurusan</h1>
<p>Dalam tutorial ini, kita akan mempelajari cara membuat relasi One-to-Many antara tabel Mahasiswa dan Jurusan di aplikasi Laravel kita. Relasi ini menggambarkan bahwa satu Jurusan dapat memiliki banyak Mahasiswa, sementara satu Mahasiswa hanya dapat terdaftar di satu Jurusan.</p>
<h2 id="diagram-relasi-mahasiswa-jurusan">Diagram Relasi Mahasiswa-Jurusan</h2>
<pre><code class="language-mermaid"><div class="mermaid">erDiagram
    JURUSAN ||--o{ MAHASISWA : memiliki
    JURUSAN {
        id int PK
        nama_jurusan varchar
        kode_jurusan varchar
        created_at timestamp
        updated_at timestamp
    }
    MAHASISWA {
        id int PK
        jurusan_id int FK
        nim varchar
        nama varchar
        email varchar
        alamat text
        created_at timestamp
        updated_at timestamp
    }

</div></code></pre>
<h2 id="langkah-1-membuat-migrasi-untuk-tabel-jurusan">Langkah 1: Membuat Migrasi untuk Tabel Jurusan</h2>
<p>Pertama, kita perlu membuat tabel Jurusan:</p>
<pre class="hljs"><code><div>php artisan make:migration create_jurusans_table
</div></code></pre>
<p>Kemudian, edit file migrasi yang baru dibuat di direktori <code>database/migrations</code>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">()</span>
</span>{
    Schema::create(<span class="hljs-string">'jurusans'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(Blueprint $table)</span> </span>{
        $table-&gt;id();
        $table-&gt;string(<span class="hljs-string">'nama_jurusan'</span>);
        $table-&gt;string(<span class="hljs-string">'kode_jurusan'</span>)-&gt;unique();
        $table-&gt;timestamps();
    });
}
</div></code></pre>
<h2 id="langkah-2-mengupdate-migrasi-tabel-mahasiswa">Langkah 2: Mengupdate Migrasi Tabel Mahasiswa</h2>
<p>Kita perlu mengupdate tabel Mahasiswa untuk menambahkan kolom relasi <code>jurusan_id</code>. Buat migrasi baru:</p>
<pre class="hljs"><code><div>php artisan make:migration add_jurusan_id_to_mahasiswas_table
</div></code></pre>
<p>Edit file migrasi tersebut:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">up</span><span class="hljs-params">()</span>
</span>{
    Schema::table(<span class="hljs-string">'mahasiswas'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(Blueprint $table)</span> </span>{
        $table-&gt;foreignId(<span class="hljs-string">'jurusan_id'</span>)-&gt;after(<span class="hljs-string">'id'</span>)-&gt;constrained(<span class="hljs-string">'jurusans'</span>)-&gt;onDelete(<span class="hljs-string">'cascade'</span>);
    });
}

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">down</span><span class="hljs-params">()</span>
</span>{
    Schema::table(<span class="hljs-string">'mahasiswas'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(Blueprint $table)</span> </span>{
        $table-&gt;dropForeign([<span class="hljs-string">'jurusan_id'</span>]);
        $table-&gt;dropColumn(<span class="hljs-string">'jurusan_id'</span>);
    });
}
</div></code></pre>
<h2 id="langkah-3-membuat-model-jurusan">Langkah 3: Membuat Model Jurusan</h2>
<p>Buat model Jurusan:</p>
<pre class="hljs"><code><div>php artisan make:model Jurusan
</div></code></pre>
<p>Edit file model <code>app/Models/Jurusan.php</code>:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Factories</span>\<span class="hljs-title">HasFactory</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Jurusan</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasFactory</span>;
    
    <span class="hljs-keyword">protected</span> $fillable = [<span class="hljs-string">'nama_jurusan'</span>, <span class="hljs-string">'kode_jurusan'</span>];
    
    <span class="hljs-comment">// Relasi ke mahasiswa (One-to-Many)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mahasiswas</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;hasMany(Mahasiswa::class);
    }
}
</div></code></pre>
<h2 id="langkah-4-mengupdate-model-mahasiswa">Langkah 4: Mengupdate Model Mahasiswa</h2>
<p>Edit file model <code>app/Models/Mahasiswa.php</code> untuk menambahkan relasi ke Jurusan:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Factories</span>\<span class="hljs-title">HasFactory</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mahasiswa</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasFactory</span>;
    
    <span class="hljs-keyword">protected</span> $fillable = [<span class="hljs-string">'jurusan_id'</span>, <span class="hljs-string">'nim'</span>, <span class="hljs-string">'nama'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'alamat'</span>];
    
    <span class="hljs-comment">// Relasi ke jurusan (Many-to-One)</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jurusan</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;belongsTo(Jurusan::class);
    }
}
</div></code></pre>
<h2 id="langkah-5-membuat-seeder-untuk-data-jurusan">Langkah 5: Membuat Seeder untuk Data Jurusan</h2>
<p>Buat seeder untuk mengisi data Jurusan:</p>
<pre class="hljs"><code><div>php artisan make:seeder JurusanSeeder
</div></code></pre>
<p>Edit file <code>database/seeders/JurusanSeeder.php</code>:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">Database</span>\<span class="hljs-title">Seeders</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Jurusan</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Seeder</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JurusanSeeder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Seeder</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span>
    </span>{
        $jurusans = [
            [<span class="hljs-string">'nama_jurusan'</span> =&gt; <span class="hljs-string">'Teknik Informatika'</span>, <span class="hljs-string">'kode_jurusan'</span> =&gt; <span class="hljs-string">'TI'</span>],
            [<span class="hljs-string">'nama_jurusan'</span> =&gt; <span class="hljs-string">'Sistem Informasi'</span>, <span class="hljs-string">'kode_jurusan'</span> =&gt; <span class="hljs-string">'SI'</span>],
            [<span class="hljs-string">'nama_jurusan'</span> =&gt; <span class="hljs-string">'Teknik Elektro'</span>, <span class="hljs-string">'kode_jurusan'</span> =&gt; <span class="hljs-string">'TE'</span>],
            [<span class="hljs-string">'nama_jurusan'</span> =&gt; <span class="hljs-string">'Manajemen Bisnis'</span>, <span class="hljs-string">'kode_jurusan'</span> =&gt; <span class="hljs-string">'MB'</span>],
        ];

        <span class="hljs-keyword">foreach</span> ($jurusans <span class="hljs-keyword">as</span> $jurusan) {
            Jurusan::create($jurusan);
        }
    }
}
</div></code></pre>
<p>Update file <code>database/seeders/DatabaseSeeder.php</code>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">$this</span>-&gt;call([
        JurusanSeeder::class,
        <span class="hljs-comment">// Seeder lainnya jika ada</span>
    ]);
}
</div></code></pre>
<h2 id="langkah-6-menjalankan-migrasi-dan-seeder">Langkah 6: Menjalankan Migrasi dan Seeder</h2>
<pre class="hljs"><code><div>php artisan migrate
php artisan db:seed
</div></code></pre>
<h2 id="langkah-7-membuat-controller-untuk-jurusan">Langkah 7: Membuat Controller untuk Jurusan</h2>
<pre class="hljs"><code><div>php artisan make:controller JurusanController --resource
</div></code></pre>
<p>Edit file <code>app/Http/Controllers/JurusanController.php</code>:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Jurusan</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Request</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JurusanController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        $jurusans = Jurusan::all();
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'jurusans.index'</span>, compact(<span class="hljs-string">'jurusans'</span>));
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'jurusans.create'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">store</span><span class="hljs-params">(Request $request)</span>
    </span>{
        $request-&gt;validate([
            <span class="hljs-string">'nama_jurusan'</span> =&gt; <span class="hljs-string">'required'</span>,
            <span class="hljs-string">'kode_jurusan'</span> =&gt; <span class="hljs-string">'required|unique:jurusans'</span>
        ]);

        Jurusan::create($request-&gt;all());
        <span class="hljs-keyword">return</span> redirect()-&gt;route(<span class="hljs-string">'jurusans.index'</span>)
            -&gt;with(<span class="hljs-string">'success'</span>, <span class="hljs-string">'Jurusan berhasil ditambahkan'</span>);
    }

    <span class="hljs-comment">// Metode lainnya (show, edit, update, destroy)</span>
}
</div></code></pre>
<h2 id="langkah-8-mengupdate-controller-mahasiswa">Langkah 8: Mengupdate Controller Mahasiswa</h2>
<p>Edit file <code>app/Http/Controllers/MahasiswaController.php</code> untuk menambahkan relasi Jurusan:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Controllers</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Mahasiswa</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>\<span class="hljs-title">Jurusan</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Request</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MahasiswaController</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Controller</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
    </span>{
        $mahasiswas = Mahasiswa::with(<span class="hljs-string">'jurusan'</span>)-&gt;get();
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'mahasiswas.index'</span>, compact(<span class="hljs-string">'mahasiswas'</span>));
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span><span class="hljs-params">()</span>
    </span>{
        $jurusans = Jurusan::all();
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'mahasiswas.create'</span>, compact(<span class="hljs-string">'jurusans'</span>));
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">store</span><span class="hljs-params">(Request $request)</span>
    </span>{
        $request-&gt;validate([
            <span class="hljs-string">'jurusan_id'</span> =&gt; <span class="hljs-string">'required|exists:jurusans,id'</span>,
            <span class="hljs-string">'nim'</span> =&gt; <span class="hljs-string">'required|unique:mahasiswas'</span>,
            <span class="hljs-string">'nama'</span> =&gt; <span class="hljs-string">'required'</span>,
            <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'required|email|unique:mahasiswas'</span>,
            <span class="hljs-string">'alamat'</span> =&gt; <span class="hljs-string">'nullable'</span>
        ]);

        Mahasiswa::create($request-&gt;all());
        <span class="hljs-keyword">return</span> redirect()-&gt;route(<span class="hljs-string">'mahasiswas.index'</span>)
            -&gt;with(<span class="hljs-string">'success'</span>, <span class="hljs-string">'Data mahasiswa berhasil disimpan'</span>);
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">edit</span><span class="hljs-params">($id)</span>
    </span>{
        $mahasiswa = Mahasiswa::findOrFail($id);
        $jurusans = Jurusan::all();
        <span class="hljs-keyword">return</span> view(<span class="hljs-string">'mahasiswas.edit'</span>, compact(<span class="hljs-string">'mahasiswa'</span>, <span class="hljs-string">'jurusans'</span>));
    }

    <span class="hljs-comment">// Metode lainnya (show, update, destroy)</span>
}
</div></code></pre>
<h2 id="langkah-9-membuat-view-untuk-jurusan">Langkah 9: Membuat View untuk Jurusan</h2>
<p>Buat direktori dan file view untuk Jurusan:</p>
<pre class="hljs"><code><div>mkdir -p resources/views/jurusans
</div></code></pre>
<p>Buat file <code>resources/views/jurusans/index.blade.php</code>:</p>
<pre class="hljs"><code><div>@extends('layouts.app')

@section('content')
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Daftar Jurusan<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{ route('jurusans.create') }}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-primary mb-3"</span>&gt;</span>Tambah Jurusan<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    
    @if (session('success'))
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"alert alert-success"</span>&gt;</span>
            {{ session('success') }}
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    @endif
    
    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>No<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Kode<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Nama Jurusan<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Jumlah Mahasiswa<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Aksi<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
            @foreach ($jurusans as $key =&gt; $jurusan)
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $key + 1 }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $jurusan-&gt;kode_jurusan }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $jurusan-&gt;nama_jurusan }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $jurusan-&gt;mahasiswas-&gt;count() }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{ route('jurusans.edit', $jurusan-&gt;id) }}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-sm btn-warning"</span>&gt;</span>Edit<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"{{ route('jurusans.destroy', $jurusan-&gt;id) }}"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"d-inline"</span>&gt;</span>
                        @csrf
                        @method('DELETE')
                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-sm btn-danger"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"return confirm('Yakin ingin menghapus?')"</span>&gt;</span>Hapus<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
            @endforeach
        <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
@endsection
</div></code></pre>
<h2 id="langkah-10-mengupdate-view-untuk-mahasiswa">Langkah 10: Mengupdate View untuk Mahasiswa</h2>
<p>Edit file <code>resources/views/mahasiswas/create.blade.php</code> dan <code>resources/views/mahasiswas/edit.blade.php</code> untuk menambahkan dropdown Jurusan:</p>
<pre class="hljs"><code><div><span class="hljs-comment">&lt;!-- Di form create.blade.php atau edit.blade.php --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"jurusan_id"</span>&gt;</span>Jurusan<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control @error('jurusan_id') is-invalid @enderror"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"jurusan_id"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"jurusan_id"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">""</span>&gt;</span>-- Pilih Jurusan --<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        @foreach ($jurusans as $jurusan)
            <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"{{ $jurusan-&gt;id }}"</span> {{ <span class="hljs-attr">old</span>('<span class="hljs-attr">jurusan_id</span>', $<span class="hljs-attr">mahasiswa-</span>&gt;</span>jurusan_id ?? '') == $jurusan-&gt;id ? 'selected' : '' }}&gt;
                {{ $jurusan-&gt;kode_jurusan }} - {{ $jurusan-&gt;nama_jurusan }}
            <span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        @endforeach
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
    @error('jurusan_id')
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"invalid-feedback"</span>&gt;</span>{{ $message }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    @enderror
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</div></code></pre>
<p>Edit file <code>resources/views/mahasiswas/index.blade.php</code> untuk menampilkan informasi Jurusan:</p>
<pre class="hljs"><code><div><span class="hljs-comment">&lt;!-- Di dalam tabel pada index.blade.php --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"table"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>No<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>NIM<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Nama<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Jurusan<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">th</span>&gt;</span>Aksi<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
        @foreach ($mahasiswas as $key =&gt; $mahasiswa)
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $key + 1 }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $mahasiswa-&gt;nim }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $mahasiswa-&gt;nama }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $mahasiswa-&gt;jurusan-&gt;kode_jurusan }} - {{ $mahasiswa-&gt;jurusan-&gt;nama_jurusan }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>{{ $mahasiswa-&gt;email }}<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"{{ route('mahasiswas.edit', $mahasiswa-&gt;id) }}"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-sm btn-warning"</span>&gt;</span>Edit<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"{{ route('mahasiswas.destroy', $mahasiswa-&gt;id) }}"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"d-inline"</span>&gt;</span>
                    @csrf
                    @method('DELETE')
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-sm btn-danger"</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"return confirm('Yakin ingin menghapus?')"</span>&gt;</span>Hapus<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
        @endforeach
    <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
</div></code></pre>
<h2 id="langkah-11-menambahkan-rute-untuk-jurusan">Langkah 11: Menambahkan Rute untuk Jurusan</h2>
<p>Edit file <code>routes/web.php</code> untuk menambahkan rute Jurusan:</p>
<pre class="hljs"><code><div>Route::resource(<span class="hljs-string">'jurusans'</span>, JurusanController::class);
Route::resource(<span class="hljs-string">'mahasiswas'</span>, MahasiswaController::class);
</div></code></pre>
<h2 id="flowchart-proses-relasi-mahasiswa-jurusan">Flowchart Proses Relasi Mahasiswa-Jurusan</h2>
<pre><code class="language-mermaid"><div class="mermaid">flowchart TB
    A[Start] --> B[Membuat Migrasi Tabel Jurusan]
    B --> C[Mengupdate Migrasi Tabel Mahasiswa]
    C --> D[Membuat Model Jurusan]
    D --> E[Mengupdate Model Mahasiswa]
    E --> F[Membuat Seeder Jurusan]
    F --> G[Menjalankan Migrasi dan Seeder]
    G --> H[Membuat Controller untuk Jurusan]
    H --> I[Mengupdate Controller Mahasiswa]
    I --> J[Membuat View untuk Jurusan]
    J --> K[Mengupdate View untuk Mahasiswa]
    K --> L[Menambahkan Rute]
    L --> M[Pengujian CRUD dengan Relasi]
    M --> N[End]

</div></code></pre>
<h2 id="kesimpulan">Kesimpulan</h2>
<p>Dalam tutorial ini, kita telah mempelajari bagaimana:</p>
<ol>
<li>Membuat relasi One-to-Many antara tabel Jurusan dan Mahasiswa</li>
<li>Mengimplementasikan relasi tersebut dalam model Laravel</li>
<li>Menggunakan Eloquent ORM untuk mengakses data relasi</li>
<li>Mengupdate tampilan untuk menampilkan data relasi</li>
<li>Menerapkan CRUD dengan memperhitungkan relasi antar tabel</li>
</ol>
<p>Dengan relasi ini, aplikasi manajemen data Mahasiswa kita sekarang dapat mengelola informasi Jurusan dengan lebih terstruktur dan mengikuti praktik perancangan database yang baik. Mahasiswa akan terhubung dengan Jurusan yang sesuai, dan setiap Jurusan dapat melihat daftar Mahasiswa yang terdaftar padanya.</p>

</body>
</html>
