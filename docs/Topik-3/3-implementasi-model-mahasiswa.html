<!DOCTYPE html>
<html>
<head>
<title>3-implementasi-model-mahasiswa.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="implementasi-model-mahasiswa-di-laravel">Implementasi Model Mahasiswa di Laravel</h1>
<p>Model merupakan komponen penting dalam arsitektur MVC Laravel yang berfungsi sebagai perantara antara aplikasi dan database. Pada tutorial ini, kita akan belajar cara mengimplementasikan model Mahasiswa untuk aplikasi manajemen data mahasiswa.</p>
<h2 id="diagram-alur-implementasi-model">Diagram Alur Implementasi Model</h2>
<pre><code class="language-mermaid"><div class="mermaid">flowchart TD
    A[Buat Model Mahasiswa] --> B[Konfigurasi Model]
    B --> C[Definisikan Atribut & Relasi]
    C --> D[Tambahkan Method]
    D --> E[Implementasikan di Controller]
    E --> F[Tampilkan di View]
    
    subgraph "Model Mahasiswa"
    G[Atribute/Property] --> H[Relasi ke Jurusan]
    G --> I[Relasi ke MataKuliah]
    G --> J[Accessor/Mutator]
    G --> K[Scopes]
    end

</div></code></pre>
<h2 id="1-membuat-model-mahasiswa">1. Membuat Model Mahasiswa</h2>
<h3 id="langkah-1-membuat-model-dengan-artisan-cli">Langkah 1: Membuat Model dengan Artisan CLI</h3>
<p>Gunakan perintah Artisan berikut untuk membuat model Mahasiswa:</p>
<pre class="hljs"><code><div>php artisan make:model Mahasiswa
</div></code></pre>
<p>Untuk membuat model beserta migrasi, controller, dan resource dalam satu perintah:</p>
<pre class="hljs"><code><div>php artisan make:model Mahasiswa -mcr
</div></code></pre>
<p>Flag <code>-m</code> akan membuat migrasi, <code>-c</code> akan membuat controller, dan <code>-r</code> akan membuat controller dengan resource methods (index, create, store, dll).</p>
<h3 id="langkah-2-struktur-model-yang-dihasilkan">Langkah 2: Struktur Model yang Dihasilkan</h3>
<p>Perintah di atas akan menghasilkan file <code>app/Models/Mahasiswa.php</code> dengan kode dasar seperti berikut:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Factories</span>\<span class="hljs-title">HasFactory</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mahasiswa</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasFactory</span>;
}
</div></code></pre>
<h2 id="2-mengonfigurasi-model-mahasiswa">2. Mengonfigurasi Model Mahasiswa</h2>
<h3 id="langkah-1-tentukan-nama-tabel">Langkah 1: Tentukan Nama Tabel</h3>
<p>Secara default, Laravel akan menggunakan bentuk jamak (plural) dari nama model sebagai nama tabel. Untuk model Mahasiswa, Laravel akan mencari tabel bernama <code>mahasiswas</code>. Jika tabel Anda bernama <code>mahasiswa</code> (tanpa 's'), maka perlu menentukan nama tabel secara eksplisit:</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mahasiswa</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasFactory</span>;
    
    <span class="hljs-comment">// Tentukan nama tabel yang digunakan</span>
    <span class="hljs-keyword">protected</span> $table = <span class="hljs-string">'mahasiswa'</span>;
}
</div></code></pre>
<h3 id="langkah-2-tetapkan-primary-key">Langkah 2: Tetapkan Primary Key</h3>
<p>Secara default, Laravel menggunakan kolom <code>id</code> sebagai primary key. Jika primary key Anda berbeda:</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mahasiswa</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasFactory</span>;
    
    <span class="hljs-keyword">protected</span> $table = <span class="hljs-string">'mahasiswa'</span>;
    <span class="hljs-keyword">protected</span> $primaryKey = <span class="hljs-string">'mahasiswa_id'</span>; <span class="hljs-comment">// Jika primary key bukan 'id'</span>
}
</div></code></pre>
<h3 id="langkah-3-konfigurasi-timestamps">Langkah 3: Konfigurasi Timestamps</h3>
<p>Laravel secara otomatis akan mengisi kolom <code>created_at</code> dan <code>updated_at</code> saat data disimpan atau diperbarui. Jika tabel Anda tidak memiliki kolom ini atau Anda tidak ingin menggunakannya:</p>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mahasiswa</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasFactory</span>;
    
    <span class="hljs-keyword">protected</span> $table = <span class="hljs-string">'mahasiswa'</span>;
    <span class="hljs-keyword">public</span> $timestamps = <span class="hljs-keyword">false</span>; <span class="hljs-comment">// Nonaktifkan fitur timestamps</span>
}
</div></code></pre>
<h3 id="langkah-4-tentukan-fillable-atau-guarded-properties">Langkah 4: Tentukan Fillable atau Guarded Properties</h3>
<p>Untuk keamanan, Laravel membatasi kolom mana yang dapat diisi secara massal menggunakan metode <code>create()</code> atau <code>update()</code>. Ada dua cara untuk mengonfigurasinya:</p>
<ol>
<li><strong>$fillable</strong>: menentukan kolom yang boleh diisi</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-keyword">protected</span> $fillable = [
    <span class="hljs-string">'nim'</span>, <span class="hljs-string">'nama'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'jenis_kelamin'</span>, <span class="hljs-string">'jurusan_id'</span>, <span class="hljs-string">'alamat'</span>, <span class="hljs-string">'no_telp'</span>
];
</div></code></pre>
<ol start="2">
<li><strong>$guarded</strong>: menentukan kolom yang tidak boleh diisi</li>
</ol>
<pre class="hljs"><code><div><span class="hljs-keyword">protected</span> $guarded = [<span class="hljs-string">'id'</span>, <span class="hljs-string">'created_at'</span>, <span class="hljs-string">'updated_at'</span>];
</div></code></pre>
<p>Biasanya lebih aman menggunakan <code>$fillable</code> karena hanya kolom yang Anda tentukan yang dapat diisi secara massal.</p>
<h2 id="3-mendefinisikan-relasi-antar-model">3. Mendefinisikan Relasi Antar Model</h2>
<h3 id="langkah-1-relasi-dengan-jurusan-belongs-to">Langkah 1: Relasi dengan Jurusan (Belongs To)</h3>
<p>Setiap mahasiswa terkait dengan satu jurusan, jadi kita perlu mendefinisikan relasi <code>belongsTo</code>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jurusan</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;belongsTo(Jurusan::class);
}
</div></code></pre>
<p>Jika nama kolom foreign key bukan <code>jurusan_id</code>:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jurusan</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;belongsTo(Jurusan::class, <span class="hljs-string">'id_jurusan'</span>);
}
</div></code></pre>
<h3 id="langkah-2-relasi-dengan-mata-kuliah-many-to-many">Langkah 2: Relasi dengan Mata Kuliah (Many to Many)</h3>
<p>Setiap mahasiswa dapat mengambil banyak mata kuliah, dan setiap mata kuliah dapat diambil oleh banyak mahasiswa. Ini adalah relasi many-to-many yang memerlukan tabel pivot:</p>
<pre class="hljs"><code><div><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matakuliah</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;belongsToMany(MataKuliah::class, <span class="hljs-string">'mahasiswa_matakuliah'</span>)
                -&gt;withPivot(<span class="hljs-string">'nilai'</span>)
                -&gt;withTimestamps();
}
</div></code></pre>
<p>Konfigurasi di atas mengasumsikan bahwa:</p>
<ul>
<li>Tabel pivot bernama <code>mahasiswa_matakuliah</code></li>
<li>Tabel pivot memiliki kolom tambahan <code>nilai</code> yang ingin diakses</li>
<li>Tabel pivot memiliki kolom timestamps (<code>created_at</code> dan <code>updated_at</code>)</li>
</ul>
<h2 id="4-menambahkan-accessor-dan-mutator">4. Menambahkan Accessor dan Mutator</h2>
<p>Accessor dan mutator memungkinkan Anda mengubah format data saat diambil dari atau disimpan ke database.</p>
<h3 id="langkah-1-accessor-format-data-saat-diambil">Langkah 1: Accessor (Format Data saat Diambil)</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Accessor untuk menampilkan nama dalam format huruf kapital</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNamaAttribute</span><span class="hljs-params">($value)</span>
</span>{
    <span class="hljs-keyword">return</span> strtoupper($value);
}

<span class="hljs-comment">// Accessor untuk membuat attribute virtual (tidak ada di database)</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNamaLengkapAttribute</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;nim . <span class="hljs-string">' - '</span> . <span class="hljs-keyword">$this</span>-&gt;nama;
}
</div></code></pre>
<p>Accessor pertama akan mengubah nilai kolom <code>nama</code> menjadi huruf kapital saat diakses. Accessor kedua membuat atribut virtual <code>nama_lengkap</code> yang dapat diakses seperti <code>$mahasiswa-&gt;nama_lengkap</code>.</p>
<h3 id="langkah-2-mutator-format-data-sebelum-disimpan">Langkah 2: Mutator (Format Data sebelum Disimpan)</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Mutator untuk mengubah nama menjadi format title case sebelum disimpan</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setNamaAttribute</span><span class="hljs-params">($value)</span>
</span>{
    <span class="hljs-keyword">$this</span>-&gt;attributes[<span class="hljs-string">'nama'</span>] = ucwords(strtolower($value));
}

<span class="hljs-comment">// Mutator untuk mengubah email menjadi lowercase sebelum disimpan</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setEmailAttribute</span><span class="hljs-params">($value)</span>
</span>{
    <span class="hljs-keyword">$this</span>-&gt;attributes[<span class="hljs-string">'email'</span>] = strtolower($value);
}
</div></code></pre>
<h2 id="5-menambahkan-query-scopes">5. Menambahkan Query Scopes</h2>
<p>Query scopes memungkinkan Anda mendefinisikan batasan query yang dapat digunakan kembali:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// Scope untuk mahasiswa aktif</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeAktif</span><span class="hljs-params">($query)</span>
</span>{
    <span class="hljs-keyword">return</span> $query-&gt;where(<span class="hljs-string">'status'</span>, <span class="hljs-string">'aktif'</span>);
}

<span class="hljs-comment">// Scope untuk filter berdasarkan jurusan</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeJurusan</span><span class="hljs-params">($query, $jurusanId)</span>
</span>{
    <span class="hljs-keyword">return</span> $query-&gt;where(<span class="hljs-string">'jurusan_id'</span>, $jurusanId);
}

<span class="hljs-comment">// Scope untuk pencarian berdasarkan nama atau nim</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeCari</span><span class="hljs-params">($query, $keyword)</span>
</span>{
    <span class="hljs-keyword">return</span> $query-&gt;where(<span class="hljs-string">'nama'</span>, <span class="hljs-string">'like'</span>, <span class="hljs-string">"%{$keyword}%"</span>)
                 -&gt;orWhere(<span class="hljs-string">'nim'</span>, <span class="hljs-string">'like'</span>, <span class="hljs-string">"%{$keyword}%"</span>);
}
</div></code></pre>
<p>Scopes ini dapat digunakan pada query seperti:</p>
<pre class="hljs"><code><div>$mahasiswaAktif = Mahasiswa::aktif()-&gt;get();
$mahasiswaTI = Mahasiswa::jurusan(<span class="hljs-number">1</span>)-&gt;get();
$hasilPencarian = Mahasiswa::cari(<span class="hljs-string">'Budi'</span>)-&gt;get();
</div></code></pre>
<h2 id="6-implementasi-model-mahasiswa-lengkap">6. Implementasi Model Mahasiswa Lengkap</h2>
<p>Berikut implementasi lengkap model Mahasiswa dengan semua konfigurasi di atas:</p>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Models</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Factories</span>\<span class="hljs-title">HasFactory</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Mahasiswa</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Model</span>
</span>{
    <span class="hljs-keyword">use</span> <span class="hljs-title">HasFactory</span>;
    
    <span class="hljs-comment">// Konfigurasi dasar</span>
    <span class="hljs-keyword">protected</span> $table = <span class="hljs-string">'mahasiswa'</span>;
    <span class="hljs-keyword">protected</span> $fillable = [
        <span class="hljs-string">'nim'</span>, <span class="hljs-string">'nama'</span>, <span class="hljs-string">'email'</span>, <span class="hljs-string">'jenis_kelamin'</span>, <span class="hljs-string">'jurusan_id'</span>, 
        <span class="hljs-string">'alamat'</span>, <span class="hljs-string">'no_telp'</span>, <span class="hljs-string">'status'</span>
    ];
    
    <span class="hljs-comment">// Relasi</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">jurusan</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;belongsTo(Jurusan::class);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">matakuliah</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;belongsToMany(MataKuliah::class, <span class="hljs-string">'mahasiswa_matakuliah'</span>)
                    -&gt;withPivot(<span class="hljs-string">'nilai'</span>)
                    -&gt;withTimestamps();
    }
    
    <span class="hljs-comment">// Accessor</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getNamaLengkapAttribute</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">$this</span>-&gt;nim . <span class="hljs-string">' - '</span> . <span class="hljs-keyword">$this</span>-&gt;nama;
    }
    
    <span class="hljs-comment">// Mutator</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setNamaAttribute</span><span class="hljs-params">($value)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;attributes[<span class="hljs-string">'nama'</span>] = ucwords(strtolower($value));
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setEmailAttribute</span><span class="hljs-params">($value)</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;attributes[<span class="hljs-string">'email'</span>] = strtolower($value);
    }
    
    <span class="hljs-comment">// Query Scopes</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeAktif</span><span class="hljs-params">($query)</span>
    </span>{
        <span class="hljs-keyword">return</span> $query-&gt;where(<span class="hljs-string">'status'</span>, <span class="hljs-string">'aktif'</span>);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeJurusan</span><span class="hljs-params">($query, $jurusanId)</span>
    </span>{
        <span class="hljs-keyword">return</span> $query-&gt;where(<span class="hljs-string">'jurusan_id'</span>, $jurusanId);
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scopeCari</span><span class="hljs-params">($query, $keyword)</span>
    </span>{
        <span class="hljs-keyword">return</span> $query-&gt;where(<span class="hljs-string">'nama'</span>, <span class="hljs-string">'like'</span>, <span class="hljs-string">"%{$keyword}%"</span>)
                     -&gt;orWhere(<span class="hljs-string">'nim'</span>, <span class="hljs-string">'like'</span>, <span class="hljs-string">"%{$keyword}%"</span>);
    }
}
</div></code></pre>
<h2 id="7-menggunakan-model-mahasiswa">7. Menggunakan Model Mahasiswa</h2>
<h3 id="langkah-1-menyimpan-data-mahasiswa-baru">Langkah 1: Menyimpan Data Mahasiswa Baru</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Di dalam controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">store</span><span class="hljs-params">(Request $request)</span>
</span>{
    $validatedData = $request-&gt;validate([
        <span class="hljs-string">'nim'</span> =&gt; <span class="hljs-string">'required|unique:mahasiswa,nim'</span>,
        <span class="hljs-string">'nama'</span> =&gt; <span class="hljs-string">'required|string|max:100'</span>,
        <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'required|email|unique:mahasiswa,email'</span>,
        <span class="hljs-string">'jenis_kelamin'</span> =&gt; <span class="hljs-string">'required|in:L,P'</span>,
        <span class="hljs-string">'jurusan_id'</span> =&gt; <span class="hljs-string">'required|exists:jurusan,id'</span>,
        <span class="hljs-string">'alamat'</span> =&gt; <span class="hljs-string">'nullable|string'</span>,
        <span class="hljs-string">'no_telp'</span> =&gt; <span class="hljs-string">'nullable|string|max:15'</span>,
    ]);
    
    $mahasiswa = Mahasiswa::create($validatedData);
    
    <span class="hljs-keyword">return</span> redirect()-&gt;route(<span class="hljs-string">'mahasiswa.index'</span>)
                     -&gt;with(<span class="hljs-string">'success'</span>, <span class="hljs-string">'Data mahasiswa berhasil ditambahkan.'</span>);
}
</div></code></pre>
<h3 id="langkah-2-mengambil-data-mahasiswa-dengan-relasi">Langkah 2: Mengambil Data Mahasiswa dengan Relasi</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Di dalam controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">index</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// Eager loading relasi jurusan untuk optimasi query</span>
    $mahasiswa = Mahasiswa::with(<span class="hljs-string">'jurusan'</span>)-&gt;get();
    
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'mahasiswa.index'</span>, compact(<span class="hljs-string">'mahasiswa'</span>));
}

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span><span class="hljs-params">($id)</span>
</span>{
    <span class="hljs-comment">// Ambil mahasiswa beserta jurusan dan mata kuliah yang diambil</span>
    $mahasiswa = Mahasiswa::with([<span class="hljs-string">'jurusan'</span>, <span class="hljs-string">'matakuliah'</span>])
                           -&gt;findOrFail($id);
    
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'mahasiswa.show'</span>, compact(<span class="hljs-string">'mahasiswa'</span>));
}
</div></code></pre>
<h3 id="langkah-3-mengambil-data-dengan-query-scopes">Langkah 3: Mengambil Data dengan Query Scopes</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Di dalam controller</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">search</span><span class="hljs-params">(Request $request)</span>
</span>{
    $keyword = $request-&gt;input(<span class="hljs-string">'keyword'</span>);
    $jurusanId = $request-&gt;input(<span class="hljs-string">'jurusan_id'</span>);
    
    $query = Mahasiswa::with(<span class="hljs-string">'jurusan'</span>);
    
    <span class="hljs-keyword">if</span> ($keyword) {
        $query-&gt;cari($keyword);
    }
    
    <span class="hljs-keyword">if</span> ($jurusanId) {
        $query-&gt;jurusan($jurusanId);
    }
    
    $mahasiswa = $query-&gt;paginate(<span class="hljs-number">10</span>);
    
    <span class="hljs-keyword">return</span> view(<span class="hljs-string">'mahasiswa.index'</span>, compact(<span class="hljs-string">'mahasiswa'</span>));
}
</div></code></pre>
<h3 id="langkah-4-mengakses-relasi-di-view">Langkah 4: Mengakses Relasi di View</h3>
<pre class="hljs"><code><div>&lt;!-- Di dalam view blade --&gt;
@<span class="hljs-keyword">foreach</span>($mahasiswa <span class="hljs-keyword">as</span> $mhs)
    &lt;tr&gt;
        &lt;td&gt;{{ $mhs-&gt;nim }}&lt;/td&gt;
        &lt;td&gt;{{ $mhs-&gt;nama }}&lt;/td&gt;
        &lt;td&gt;{{ $mhs-&gt;jurusan-&gt;nama }}&lt;/td&gt;
        &lt;td&gt;{{ $mhs-&gt;email }}&lt;/td&gt;
    &lt;/tr&gt;
@<span class="hljs-keyword">endforeach</span>
</div></code></pre>
<h3 id="langkah-5-mengakses-data-pivot-many-to-many">Langkah 5: Mengakses Data pivot (Many to Many)</h3>
<pre class="hljs"><code><div>&lt;!-- Di dalam view detail mahasiswa --&gt;
&lt;h3&gt;Mata Kuliah yang Diambil:&lt;/h3&gt;
&lt;ul&gt;
    @<span class="hljs-keyword">foreach</span>($mahasiswa-&gt;matakuliah <span class="hljs-keyword">as</span> $mk)
        &lt;li&gt;
            {{ $mk-&gt;kode }} - {{ $mk-&gt;nama }}
            @<span class="hljs-keyword">if</span>($mk-&gt;pivot-&gt;nilai)
                (Nilai: {{ $mk-&gt;pivot-&gt;nilai }})
            @<span class="hljs-keyword">endif</span>
        &lt;/li&gt;
    @<span class="hljs-keyword">endforeach</span>
&lt;/ul&gt;
</div></code></pre>
<h2 id="8-praktik-implementasi-model-mahasiswa">8. Praktik: Implementasi Model Mahasiswa</h2>
<p>Setelah mempelajari cara mengimplementasikan model Mahasiswa, cobalah latihan berikut:</p>
<ol>
<li>Buat model Mahasiswa dengan relasi ke Jurusan dan MataKuliah</li>
<li>Tambahkan accessor untuk menampilkan jenis kelamin dalam format lengkap (L -&gt; Laki-laki, P -&gt; Perempuan)</li>
<li>Tambahkan scope untuk memfilter mahasiswa berdasarkan angkatan (dari NIM)</li>
<li>Implementasikan fungsi CRUD lengkap untuk data mahasiswa di controller</li>
</ol>
<h2 id="kesimpulan">Kesimpulan</h2>
<p>Implementasi model Mahasiswa di Laravel memberikan abstraksi yang kuat untuk berinteraksi dengan data mahasiswa di database. Dengan mendefinisikan relasi, accessor/mutator, dan query scopes, kita dapat membuat kode yang lebih bersih, mudah dibaca, dan efisien.</p>
<p>Model ini menjadi fondasi untuk membangun fitur-fitur aplikasi manajemen mahasiswa seperti:</p>
<ul>
<li>Pendaftaran mahasiswa baru</li>
<li>Pencarian dan filtering data mahasiswa</li>
<li>Pengambilan mata kuliah oleh mahasiswa</li>
<li>Pengelolaan nilai mahasiswa</li>
</ul>
<p>Setelah mengimplementasikan model Mahasiswa dengan benar, langkah selanjutnya adalah membuat controller dan view untuk menampilkan dan mengelola data mahasiswa melalui antarmuka web.</p>

</body>
</html>
