<!DOCTYPE html>
<html>
<head>
<title>2-Validasi input data.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="tutorial-validasi-input-data-pada-form-mahasiswa">Tutorial: Validasi Input Data pada Form Mahasiswa</h1>
<p>Validasi input pengguna adalah komponen penting dalam pengembangan aplikasi web untuk memastikan bahwa data yang dimasukkan sesuai dengan format yang diharapkan. Laravel menyediakan beberapa cara mudah untuk mengimplementasikan validasi. Dalam tutorial ini, kita akan membahas cara validasi data input pada aplikasi Mahasiswa.</p>
<h2 id="alur-kerja-validasi-input">Alur Kerja Validasi Input</h2>
<pre><code class="language-mermaid"><div class="mermaid">flowchart TD
    A[Form Submit] --> B[Controller]
    B --> C{Validasi}
    C -->|Valid| D[Proses Data]
    D --> E[Simpan ke Database]
    E --> F[Redirect dengan Pesan Sukses]
    C -->|Invalid| G[Redirect Kembali ke Form]
    G --> H[Tampilkan Pesan Error]
    H --> A

</div></code></pre>
<h2 id="langkah-1-menambahkan-validasi-pada-controller">Langkah 1: Menambahkan Validasi pada Controller</h2>
<p>Untuk menerapkan validasi pada controller, tambahkan kode validasi di method <code>store</code> dan <code>update</code>:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// app/Http/Controllers/MahasiswaController.php</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">store</span><span class="hljs-params">(Request $request)</span>
</span>{
    <span class="hljs-comment">// Validasi data input</span>
    $validated = $request-&gt;validate([
        <span class="hljs-string">'nim'</span> =&gt; <span class="hljs-string">'required|string|max:20|unique:mahasiswa,nim'</span>,
        <span class="hljs-string">'nama'</span> =&gt; <span class="hljs-string">'required|string|max:100'</span>,
        <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'required|email|unique:mahasiswa,email'</span>,
        <span class="hljs-string">'jurusan_id'</span> =&gt; <span class="hljs-string">'required|exists:jurusan,id'</span>,
        <span class="hljs-string">'alamat'</span> =&gt; <span class="hljs-string">'nullable|string'</span>,
        <span class="hljs-string">'tanggal_lahir'</span> =&gt; <span class="hljs-string">'nullable|date'</span>,
    ]);
    
    <span class="hljs-comment">// Simpan data mahasiswa</span>
    Mahasiswa::create($validated);
    
    <span class="hljs-keyword">return</span> redirect()-&gt;route(<span class="hljs-string">'mahasiswa.index'</span>)
        -&gt;with(<span class="hljs-string">'success'</span>, <span class="hljs-string">'Data mahasiswa berhasil ditambahkan!'</span>);
}
</div></code></pre>
<h2 id="langkah-2-aturan-validasi-yang-umum-digunakan">Langkah 2: Aturan Validasi yang Umum Digunakan</h2>
<p>Berikut adalah beberapa aturan validasi yang sering digunakan di Laravel:</p>
<table>
<thead>
<tr>
<th>Aturan</th>
<th>Deskripsi</th>
<th>Contoh</th>
</tr>
</thead>
<tbody>
<tr>
<td>required</td>
<td>Field wajib diisi</td>
<td><code>'nama' =&gt; 'required'</code></td>
</tr>
<tr>
<td>string</td>
<td>Field harus berupa string</td>
<td><code>'nama' =&gt; 'string'</code></td>
</tr>
<tr>
<td>integer</td>
<td>Field harus berupa bilangan bulat</td>
<td><code>'umur' =&gt; 'integer'</code></td>
</tr>
<tr>
<td>email</td>
<td>Field harus format email valid</td>
<td><code>'email' =&gt; 'email'</code></td>
</tr>
<tr>
<td>numeric</td>
<td>Field harus berupa angka</td>
<td><code>'nilai' =&gt; 'numeric'</code></td>
</tr>
<tr>
<td>date</td>
<td>Field harus tanggal valid</td>
<td><code>'tanggal_lahir' =&gt; 'date'</code></td>
</tr>
<tr>
<td>min:n</td>
<td>Nilai minimal (string/angka)</td>
<td><code>'password' =&gt; 'min:8'</code></td>
</tr>
<tr>
<td>max:n</td>
<td>Nilai maksimal (string/angka)</td>
<td><code>'nim' =&gt; 'max:20'</code></td>
</tr>
<tr>
<td>size:n</td>
<td>Ukuran tepat (string/angka)</td>
<td><code>'kode_pos' =&gt; 'size:5'</code></td>
</tr>
<tr>
<td>unique:table,column</td>
<td>Nilai harus unik</td>
<td><code>'email' =&gt; 'unique:mahasiswa,email'</code></td>
</tr>
<tr>
<td>exists:table,column</td>
<td>Nilai harus ada di tabel</td>
<td><code>'jurusan_id' =&gt; 'exists:jurusan,id'</code></td>
</tr>
<tr>
<td>image</td>
<td>File harus berupa gambar</td>
<td><code>'foto' =&gt; 'image'</code></td>
</tr>
<tr>
<td>mimes:ext1,ext2</td>
<td>File dengan ekstensi tertentu</td>
<td><code>'foto' =&gt; 'mimes:jpeg,png,jpg'</code></td>
</tr>
<tr>
<td>nullable</td>
<td>Field boleh kosong</td>
<td><code>'alamat' =&gt; 'nullable'</code></td>
</tr>
</tbody>
</table>
<h2 id="langkah-3-menampilkan-pesan-error-di-view">Langkah 3: Menampilkan Pesan Error di View</h2>
<p>Buat bagian untuk menampilkan pesan error pada form:</p>
<pre class="hljs"><code><div>&lt;!-- resources/views/mahasiswa/create.blade.php --&gt;
&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">form</span>-<span class="hljs-title">group</span> <span class="hljs-title">mb</span>-3"&gt;
    &lt;<span class="hljs-title">label</span> <span class="hljs-title">for</span>="<span class="hljs-title">nim</span>"&gt;<span class="hljs-title">NIM</span> &lt;<span class="hljs-title">span</span> <span class="hljs-title">class</span>="<span class="hljs-title">text</span>-<span class="hljs-title">danger</span>"&gt;*&lt;/<span class="hljs-title">span</span>&gt;&lt;/<span class="hljs-title">label</span>&gt;
    &lt;<span class="hljs-title">input</span> <span class="hljs-title">type</span>="<span class="hljs-title">text</span>" <span class="hljs-title">class</span>="<span class="hljs-title">form</span>-<span class="hljs-title">control</span> @<span class="hljs-title">error</span>('<span class="hljs-title">nim</span>') <span class="hljs-title">is</span>-<span class="hljs-title">invalid</span> @<span class="hljs-title">enderror</span>" <span class="hljs-title">id</span>="<span class="hljs-title">nim</span>" <span class="hljs-title">name</span>="<span class="hljs-title">nim</span>" <span class="hljs-title">value</span>="</span>{{ old(<span class="hljs-string">'nim'</span>) }}<span class="hljs-string">"&gt;
    @error('nim')
        &lt;div class="</span>invalid-feedback<span class="hljs-string">"&gt;{{ $message }}&lt;/div&gt;
    @enderror
&lt;/div&gt;
</span></div></code></pre>
<h2 id="langkah-4-menyimpan-input-lama-dengan-old">Langkah 4: Menyimpan Input Lama dengan old()</h2>
<p>Untuk menjaga nilai input setelah validasi gagal, gunakan fungsi <code>old()</code>:</p>
<pre class="hljs"><code><div>&lt;input type=<span class="hljs-string">"text"</span> <span class="hljs-class"><span class="hljs-keyword">class</span>="<span class="hljs-title">form</span>-<span class="hljs-title">control</span>" <span class="hljs-title">name</span>="<span class="hljs-title">nama</span>" <span class="hljs-title">value</span>="</span>{{ old(<span class="hljs-string">'nama'</span>) }}<span class="hljs-string">"&gt;
</span></div></code></pre>
<h2 id="langkah-5-menambahkan-validasi-kustom">Langkah 5: Menambahkan Validasi Kustom</h2>
<p>Untuk kasus yang lebih kompleks, buat validasi kustom:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// app/Http/Controllers/MahasiswaController.php</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">store</span><span class="hljs-params">(Request $request)</span>
</span>{
    $request-&gt;validate([
        <span class="hljs-string">'nim'</span> =&gt; [
            <span class="hljs-string">'required'</span>,
            <span class="hljs-string">'string'</span>,
            <span class="hljs-string">'max:20'</span>,
            <span class="hljs-string">'unique:mahasiswa,nim'</span>,
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($attribute, $value, $fail)</span> </span>{
                <span class="hljs-comment">// Format NIM: dua huruf diikuti 8 digit angka</span>
                <span class="hljs-keyword">if</span> (!preg_match(<span class="hljs-string">'/^[A-Z]{2}\d{8}$/'</span>, $value)) {
                    $fail(<span class="hljs-string">'Format NIM tidak valid. Format yang benar: XX12345678'</span>);
                }
            },
        ],
        <span class="hljs-comment">// validasi lainnya</span>
    ]);
    
    <span class="hljs-comment">// lanjutkan proses penyimpanan data</span>
}
</div></code></pre>
<h2 id="langkah-6-menggunakan-form-request-untuk-validasi-terpisah">Langkah 6: Menggunakan Form Request untuk Validasi Terpisah</h2>
<p>Untuk validasi yang lebih terorganisir, buat Form Request:</p>
<pre class="hljs"><code><div>php artisan make:request StoreMahasiswaRequest
</div></code></pre>
<p>Kemudian edit file request yang dibuat:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// app/Http/Requests/StoreMahasiswaRequest.php</span>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Requests</span>;

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Foundation</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">FormRequest</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StoreMahasiswaRequest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">FormRequest</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">authorize</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>; <span class="hljs-comment">// Izinkan akses</span>
    }

    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rules</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'nim'</span> =&gt; <span class="hljs-string">'required|string|max:20|unique:mahasiswa,nim'</span>,
            <span class="hljs-string">'nama'</span> =&gt; <span class="hljs-string">'required|string|max:100'</span>,
            <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'required|email|unique:mahasiswa,email'</span>,
            <span class="hljs-string">'jurusan_id'</span> =&gt; <span class="hljs-string">'required|exists:jurusan,id'</span>,
            <span class="hljs-string">'alamat'</span> =&gt; <span class="hljs-string">'nullable|string'</span>,
            <span class="hljs-string">'tanggal_lahir'</span> =&gt; <span class="hljs-string">'nullable|date'</span>,
        ];
    }
    
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">messages</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">return</span> [
            <span class="hljs-string">'nim.required'</span> =&gt; <span class="hljs-string">'NIM wajib diisi'</span>,
            <span class="hljs-string">'nim.unique'</span> =&gt; <span class="hljs-string">'NIM sudah terdaftar'</span>,
            <span class="hljs-string">'nama.required'</span> =&gt; <span class="hljs-string">'Nama wajib diisi'</span>,
            <span class="hljs-string">'email.required'</span> =&gt; <span class="hljs-string">'Email wajib diisi'</span>,
            <span class="hljs-string">'email.email'</span> =&gt; <span class="hljs-string">'Format email tidak valid'</span>,
            <span class="hljs-string">'email.unique'</span> =&gt; <span class="hljs-string">'Email sudah terdaftar'</span>,
            <span class="hljs-string">'jurusan_id.required'</span> =&gt; <span class="hljs-string">'Jurusan wajib dipilih'</span>,
            <span class="hljs-string">'jurusan_id.exists'</span> =&gt; <span class="hljs-string">'Jurusan tidak valid'</span>,
            <span class="hljs-string">'tanggal_lahir.date'</span> =&gt; <span class="hljs-string">'Format tanggal tidak valid'</span>,
        ];
    }
}
</div></code></pre>
<p>Lalu gunakan di controller:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// app/Http/Controllers/MahasiswaController.php</span>
<span class="hljs-keyword">use</span> <span class="hljs-title">App</span>\<span class="hljs-title">Http</span>\<span class="hljs-title">Requests</span>\<span class="hljs-title">StoreMahasiswaRequest</span>;

<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">store</span><span class="hljs-params">(StoreMahasiswaRequest $request)</span>
</span>{
    <span class="hljs-comment">// Data sudah tervalidasi</span>
    Mahasiswa::create($request-&gt;validated());
    
    <span class="hljs-keyword">return</span> redirect()-&gt;route(<span class="hljs-string">'mahasiswa.index'</span>)
        -&gt;with(<span class="hljs-string">'success'</span>, <span class="hljs-string">'Data mahasiswa berhasil ditambahkan!'</span>);
}
</div></code></pre>
<h2 id="langkah-7-validasi-untuk-update-data">Langkah 7: Validasi untuk Update Data</h2>
<p>Untuk update, perlu pengecualian unique ID saat ini:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// app/Http/Requests/UpdateMahasiswaRequest.php</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rules</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">return</span> [
        <span class="hljs-string">'nim'</span> =&gt; <span class="hljs-string">'required|string|max:20|unique:mahasiswa,nim,'</span>.<span class="hljs-keyword">$this</span>-&gt;mahasiswa,
        <span class="hljs-string">'email'</span> =&gt; <span class="hljs-string">'required|email|unique:mahasiswa,email,'</span>.<span class="hljs-keyword">$this</span>-&gt;mahasiswa,
        <span class="hljs-comment">// aturan lainnya</span>
    ];
}
</div></code></pre>
<h2 id="langkah-8-validasi-dengan-ajax-opsional">Langkah 8: Validasi dengan AJAX (Opsional)</h2>
<p>Tambahkan validasi real-time dengan Ajax untuk pengalaman pengguna yang lebih baik:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// resources/js/validation.js</span>
$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    $(<span class="hljs-string">'#nim'</span>).on(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">let</span> nim = $(<span class="hljs-keyword">this</span>).val();
        
        <span class="hljs-keyword">if</span> (nim) {
            $.ajax({
                <span class="hljs-attr">url</span>: <span class="hljs-string">'/validate/nim'</span>,
                <span class="hljs-attr">type</span>: <span class="hljs-string">'POST'</span>,
                <span class="hljs-attr">data</span>: {
                    <span class="hljs-attr">_token</span>: $(<span class="hljs-string">'meta[name="csrf-token"]'</span>).attr(<span class="hljs-string">'content'</span>),
                    <span class="hljs-attr">nim</span>: nim
                },
                <span class="hljs-attr">success</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
                    <span class="hljs-keyword">if</span> (response.valid) {
                        $(<span class="hljs-string">'#nim'</span>).removeClass(<span class="hljs-string">'is-invalid'</span>).addClass(<span class="hljs-string">'is-valid'</span>);
                        $(<span class="hljs-string">'#nim-feedback'</span>).hide();
                    } <span class="hljs-keyword">else</span> {
                        $(<span class="hljs-string">'#nim'</span>).removeClass(<span class="hljs-string">'is-valid'</span>).addClass(<span class="hljs-string">'is-invalid'</span>);
                        $(<span class="hljs-string">'#nim-feedback'</span>).text(response.message).show();
                    }
                }
            });
        }
    });
});
</div></code></pre>
<p>Route untuk validasi AJAX:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// routes/web.php</span>
Route::post(<span class="hljs-string">'/validate/nim'</span>, [ValidationController::class, <span class="hljs-string">'validateNim'</span>]);
</div></code></pre>
<p>Controller validasi:</p>
<pre class="hljs"><code><div><span class="hljs-comment">// app/Http/Controllers/ValidationController.php</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">validateNim</span><span class="hljs-params">(Request $request)</span>
</span>{
    $nim = $request-&gt;input(<span class="hljs-string">'nim'</span>);
    $mahasiswaId = $request-&gt;input(<span class="hljs-string">'mahasiswa_id'</span>); <span class="hljs-comment">// Untuk update</span>
    
    <span class="hljs-comment">// Cek apakah NIM sudah ada</span>
    $exists = Mahasiswa::where(<span class="hljs-string">'nim'</span>, $nim)
        -&gt;when($mahasiswaId, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($query, $mahasiswaId)</span> </span>{
            <span class="hljs-keyword">return</span> $query-&gt;where(<span class="hljs-string">'id'</span>, <span class="hljs-string">'!='</span>, $mahasiswaId);
        })
        -&gt;exists();
    
    <span class="hljs-keyword">if</span> ($exists) {
        <span class="hljs-keyword">return</span> response()-&gt;json([
            <span class="hljs-string">'valid'</span> =&gt; <span class="hljs-keyword">false</span>,
            <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">'NIM sudah digunakan'</span>
        ]);
    }
    
    <span class="hljs-comment">// Validasi format NIM</span>
    <span class="hljs-keyword">if</span> (!preg_match(<span class="hljs-string">'/^[A-Z]{2}\d{8}$/'</span>, $nim)) {
        <span class="hljs-keyword">return</span> response()-&gt;json([
            <span class="hljs-string">'valid'</span> =&gt; <span class="hljs-keyword">false</span>,
            <span class="hljs-string">'message'</span> =&gt; <span class="hljs-string">'Format NIM tidak valid. Format yang benar: XX12345678'</span>
        ]);
    }
    
    <span class="hljs-keyword">return</span> response()-&gt;json([<span class="hljs-string">'valid'</span> =&gt; <span class="hljs-keyword">true</span>]);
}
</div></code></pre>
<h2 id="langkah-9-praktik-terbaik-validasi">Langkah 9: Praktik Terbaik Validasi</h2>
<pre><code class="language-mermaid"><div class="mermaid">flowchart TD
    A[Validasi Server-Side] -->|Wajib| B[Keamanan Aplikasi]
    C[Validasi Client-Side] -->|Opsional| D[UX yang Lebih Baik]
    E[Form Request Class] --> F[Kode Lebih Terorganisir]
    G[Validasi AJAX] --> H[Real-time Feedback]
    I[Custom Rules] --> J[Kebutuhan Bisnis Spesifik]

</div></code></pre>
<h3 id="tips-validasi">Tips Validasi:</h3>
<ol>
<li><strong>Selalu gunakan validasi server-side</strong>, tidak hanya client-side</li>
<li><strong>Buat pesan validasi yang jelas</strong> untuk membantu pengguna</li>
<li><strong>Simpan nilai input lama</strong> dengan <code>old()</code> untuk meningkatkan UX</li>
<li><strong>Gunakan Form Request</strong> untuk validasi kompleks dan berulang</li>
<li><strong>Validasi data sensitif</strong> dengan hati-hati (misalnya password)</li>
</ol>
<h2 id="langkah-10-latihan-praktik">Langkah 10: Latihan Praktik</h2>
<h3 id="latihan-1-validasi-data-mahasiswa">Latihan 1: Validasi Data Mahasiswa</h3>
<ol>
<li>Buat validasi untuk memastikan format NIM sesuai standar (contoh: dua huruf diikuti 8 digit)</li>
<li>Tambahkan validasi email dengan domain spesifik (@student.universitasanda.ac.id)</li>
<li>Validasi tanggal lahir agar mahasiswa minimal berusia 17 tahun</li>
<li>Tambahkan validasi tambahan untuk nomor telepon dengan format yang benar</li>
</ol>
<h3 id="latihan-2-membuat-form-request-untuk-validasi">Latihan 2: Membuat Form Request untuk Validasi</h3>
<ol>
<li>Buat Form Request untuk proses tambah mahasiswa</li>
<li>Buat Form Request untuk proses update mahasiswa</li>
<li>Tambahkan pesan validasi kustom di masing-masing Form Request</li>
</ol>
<h3 id="contoh-solusi-latihan-1">Contoh Solusi Latihan 1</h3>
<pre class="hljs"><code><div><span class="hljs-comment">// Validasi di controller</span>
$request-&gt;validate([
    <span class="hljs-string">'nim'</span> =&gt; [
        <span class="hljs-string">'required'</span>, 
        <span class="hljs-string">'string'</span>, 
        <span class="hljs-string">'max:20'</span>, 
        <span class="hljs-string">'unique:mahasiswa,nim'</span>,
        <span class="hljs-string">'regex:/^[A-Z]{2}\d{8}$/'</span>
    ],
    <span class="hljs-string">'email'</span> =&gt; [
        <span class="hljs-string">'required'</span>, 
        <span class="hljs-string">'email'</span>, 
        <span class="hljs-string">'unique:mahasiswa,email'</span>,
        <span class="hljs-string">'regex:/@student\.universitasanda\.ac\.id$/'</span>
    ],
    <span class="hljs-string">'tanggal_lahir'</span> =&gt; [
        <span class="hljs-string">'nullable'</span>, 
        <span class="hljs-string">'date'</span>, 
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">($attribute, $value, $fail)</span> </span>{
            $minAge = Carbon::now()-&gt;subYears(<span class="hljs-number">17</span>);
            $birthDate = Carbon::parse($value);
            
            <span class="hljs-keyword">if</span> ($birthDate-&gt;isAfter($minAge)) {
                $fail(<span class="hljs-string">'Mahasiswa minimal berusia 17 tahun.'</span>);
            }
        }
    ],
    <span class="hljs-string">'telepon'</span> =&gt; [
        <span class="hljs-string">'nullable'</span>, 
        <span class="hljs-string">'regex:/^08[0-9]{8,11}$/'</span>
    ],
]);
</div></code></pre>
<p>Dengan menguasai teknik validasi di Laravel, Anda dapat memastikan bahwa data yang masuk ke aplikasi Anda sesuai dengan kriteria yang diharapkan, meningkatkan integritas data, dan memberikan feedback yang jelas kepada pengguna.</p>

</body>
</html>
